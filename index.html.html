<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<title>¬øQuieres ser mi Valent√≠n?</title>

<style>
:root{
  --pink:#ff5fa2;
  --bg:#0f0a10;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Arial, sans-serif;
  background: radial-gradient(1200px 600px at 50% -10%, #2a0f24, var(--bg));
  color:#fff;
  min-height:100vh;
  display:flex;
  justify-content:center;
}
.app{width:100%; max-width:1000px; padding:16px}
.stage{
  width:100%;
  border-radius:20px;
  padding:20px;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px dashed rgba(255,255,255,.18);
  min-height:420px;
  display:grid;
  place-items:center;
  position:relative;
  overflow:hidden;
}
.panel{
  width:100%;
  max-width:820px;
  margin:0 auto;
  text-align:center;
  animation:fadeUp .4s ease both;
  position:relative;
  z-index:2;
}

h1{font-size:clamp(30px,8vw,72px)}
h2{font-size:clamp(22px,5vw,34px)}
p{font-size:clamp(15px,4vw,18px); line-height:1.7}
.name{color:var(--pink)}

button{
  width:100%;
  max-width:320px;
  padding:14px 18px;
  border-radius:16px;
  border:0;
  cursor:pointer;
  font-size:16px;
  font-weight:700;
  background: linear-gradient(180deg, #ff7ab8, #ff3f8e);
  color:#240015;
  box-shadow: 0 10px 24px rgba(255,63,142,.35);
}

/* CARTA */
.letter{
  background:rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.25);
  border-radius:18px;
  padding:20px;
  text-align:left;
}

/* SLIDER */
.slider{
  width:100%;
  max-width:520px;
  height:420px;
  margin:18px auto;
  position:relative;
  overflow:hidden;
  border-radius:18px;
}
.slider img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  transform:scale(1.05);
  transition:opacity 1s ease, transform 1s ease;
}
.slider img.active{
  opacity:1;
  transform:scale(1);
}

/* FINAL */
.final-img{
  max-width:220px;
  max-height:300px;
  border-radius:18px;
  margin-top:14px;
}

/* CORAZONES */
.final-hearts span{
  position:absolute;
  bottom:-20px;
  animation: floatUp linear infinite;
}

/* CONFETI */
.confetti span{
  position:absolute;
  width:8px;
  height:8px;
  background: #ff3f8e;
  opacity:0.9;
  border-radius:50%;
  animation: confettiDrop linear infinite;
}
@keyframes confettiDrop{
  0%{transform:translateY(0) rotate(0deg)}
  100%{transform:translateY(120vh) rotate(360deg)}
}

@keyframes floatUp{
  from{transform:translateY(0)}
  to{transform:translateY(-120vh)}
}
@keyframes fadeUp{
  from{opacity:0; transform:translateY(10px)}
  to{opacity:1}
}

/* Notificaci√≥n */
.notif{
  position:fixed;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  background:#ff5fa2;
  padding:12px 20px;
  border-radius:18px;
  font-weight:700;
  z-index:9999;
  box-shadow:0 4px 12px rgba(0,0,0,.4);
}
</style>
</head>

<body>
<div class="app">
  <div class="stage" id="stage"></div>
</div>

<audio id="bgMusic" loop>
  <source src="Cancion.mp3" type="audio/mpeg">
</audio>

<script>
document.addEventListener("DOMContentLoaded",()=>{

const stage = document.getElementById("stage");
const music = document.getElementById("bgMusic");

// üíñ Introducci√≥n
function intro(){
  stage.innerHTML=`
  <div class="panel">
    <h1>Hola <span class="name">Brianda Karely</span> üíñ</h1>
    <p>Eres √öNICA y ESPECIAL.</p>
    <button onclick="startMusic(); historia()">Comenzar</button>
  </div>`;
}

// üéµ M√∫sica de fondo
function startMusic(){
  music.volume=0.5;
  music.play().catch(()=>{});
}

// üì∏ Slider de fotos
function historia(){
  let fotos = ["foto1.jpg","foto2.jpg","foto3.jpg","foto4.jpg","foto5.jpg","foto6.jpg","foto8.jpg","foto9.jpg"];
  let currentFoto=0;
  let vueltas=0;
  let notifMostrada=false; // üîπ Solo mostrar una vez

  stage.innerHTML=`
  <div class="panel">
    <h2>Fotos bonitas nuestras üì∏</h2>
    <div class="slider">
      ${fotos.map((f,i)=>`<img src="${f}" class="${i===0?'active':''}">`).join('')}
    </div>
    <button onclick="pregunta()">Continuar</button>
  </div>`;

  const images=document.querySelectorAll(".slider img");

  const interval=setInterval(()=>{
    images[currentFoto].classList.remove("active");
    currentFoto=(currentFoto+1)%images.length;
    images[currentFoto].classList.add("active");

    if(currentFoto===0){
      vueltas++;
      if(vueltas===1 && !notifMostrada){
        notifMostrada=true;
        setTimeout(()=>{
          showNotif("S√© que te encantan las fotos amor üíñ, pero dale continuar jiji üòò");
          if(navigator.vibrate) navigator.vibrate([200,100,200]);
        },3000);
      }
    }
  },2000);
}

// üíò Pregunta San Valent√≠n
function pregunta(){
  stage.innerHTML=`
  <div class="panel">
    <h2>Pregunta importante üíò</h2>
    <p id="textoNo">¬øQuieres ser mi Valent√≠n este 14 de febrero?</p>
    <button onclick="carta()">S√≠</button>
    <button id="noBtn">No</button>
  </div>`;

  const noBtn=document.getElementById("noBtn");
  const texto=document.getElementById("textoNo");
  const frases=["¬øSegura? üòè","Pi√©nsalo bien üíï","Eso no se vale üò≥","Yo s√© que s√≠ quieres üíñ","√Åndale di que s√≠ ü•∫","Ese bot√≥n no funciona üòÖ"];
  let i=0;

  function moverNo(){
    const x=Math.random()*200-100;
    const y=Math.random()*80-40;
    noBtn.style.transform=`translate(${x}px, ${y}px)`;
    texto.textContent=frases[i];
    i=(i+1)%frases.length;
    if(navigator.vibrate) navigator.vibrate(200);
  }

  noBtn.addEventListener("mouseenter",moverNo);
  noBtn.addEventListener("touchstart",e=>{e.preventDefault(); moverNo()});
}

// üíå Carta rom√°ntica
function carta(){
  stage.innerHTML=`
  <div class="panel">
    <h2>Para ti üíå</h2>
    <div class="letter">
      <p><b>Brianda Karely</b>, quiero que sepas que eres la mujer m√°s hermosa,
      especial e incre√≠ble que existe. Gracias por llegar a mi vida,
      por tu amor, por tu risa y por hacerme tan feliz.  
      Te amo con todo mi coraz√≥n üíñ</p>
    </div>
    <button onclick="final()">Siguiente</button>
  </div>`;
}

// üéâ Final con corazones y confeti
function final(){
  stage.innerHTML=`
  <div class="panel final">
    <h1>TE ELIJO HOY Y SIEMPRE</h1>
    <img class="final-img" src="foto7.jpg">
  </div>
  <div class="final-hearts">
    ${Array.from({length:40}).map(()=>'<span>‚ù§Ô∏è</span>').join('')}
  </div>
  <div class="confetti">
    ${Array.from({length:100}).map(()=>'<span></span>').join('')}
  </div>`;

  document.querySelectorAll(".final-hearts span").forEach(h=>{
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(18+Math.random()*24)+"px";
    h.style.animationDuration=(4+Math.random()*4)+"s";
  });

  document.querySelectorAll(".confetti span").forEach(c=>{
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},80%,60%)`;
    c.style.animationDuration=(3+Math.random()*3)+"s";
    c.style.width=(6+Math.random()*6)+"px";
    c.style.height=c.style.width;
  });
}

// üîî Notificaci√≥n
function showNotif(msg){
  const n=document.createElement("div");
  n.className="notif";
  n.textContent=msg;
  document.body.appendChild(n);
  setTimeout(()=>{n.remove()},5000);
}

// Exponer funciones globales
window.startMusic=startMusic;
window.historia=historia;
window.pregunta=pregunta;
window.carta=carta;
window.final=final;

intro();
});
</script>
</body>
</html>
